<!DOCTYPE html>
<html lang="EN">
  <head>
    <meta charset="UTF-8" />
    <title>LKL Edu</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
    />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
    <link rel="stylesheet" type="text/css" href="../../css/style.css" />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="../../images/favicon.png"
    />
    <link
      href="https://cdn.materialdesignicons.com/5.4.55/css/materialdesignicons.min.css"
      rel="stylesheet"
    />
    <script src="../../js/index.js"></script>
  </head>

  <body>
    <!-- loading -->
    <div id="loading" class="loading">
      <div class="loading-overlay"></div>
      <div class="spinner"></div>
    </div>

    <!--Header-->
    <nav class="navbar navbar-expand-md bg-white navbar-white">
      <img id="logo" src="../../images/LKLlogo.png" />
      <a class="navbar-brand" href="#"></a>
    </nav>

    <!--DataView-->
    <div class="fit-content-w">
      <div class="row">
        <!--Menu-->
        <div class="col-sm-2 col-md-2 col-lg-2 col-xl-2">
          <nav class="navbar navbar-light" style="padding-top: 0px">
            <ul class="navbar-nav nav nav-pills">
              <div style="border-style: ridge; border-radius: 10px">
                <br /><img
                  src="../../images/ava2.png"
                  style="
                    border-radius: 50%;
                    height: 50%;
                    width: 50%;
                    display: block;
                    margin-left: auto;
                    margin-right: auto;
                  "
                />
                <li id="menu" class="nav-item">
                  <p class="nav-link" style="text-align: center">
                    KentStaffAdmin
                  </p>
                </li>
              </div>
              <br />
              <li id="menu" class="nav-item">
                <a class="nav-link" href="notificationListM.html"
                  >Quản lý Thông báo</a
                >
              </li>
              <div class="dropdown-divider"></div>
              <li id="menu" class="nav-item">
                <a class="nav-link" href="courseListM.html">Quản lý Khóa học</a>
              </li>
              <div class="dropdown-divider"></div>
              <li id="menu" class="nav-item">
                <a class="nav-link" href="studyandexamScheduleM.html"
                  >Quản lý Lịch học và thi</a
                >
              </li>
              <div class="dropdown-divider"></div>
              <li id="menu" class="nav-item active">
                <a class="nav-link" href="studentInfoM.html"
                  >Quản lý TT Học viên</a
                >
              </li>
              <div class="dropdown-divider"></div>
              <li id="menu" class="nav-item">
                <a class="nav-link" href="teacherInfoM.html"
                  >Quản lý TT Giảng viên</a
                >
              </li>
              <div class="dropdown-divider"></div>
              <li id="menu" class="nav-item">
                <a class="nav-link" href="../home.html">Đăng xuất</a>
              </li>
              <div class="dropdown-divider"></div>
            </ul>
          </nav>
        </div>

        <!--DataGridView-->
        <div class="col-sm-10 col-md-10 col-lg-10 col-xl-10">
          <h4 style="padding-left: 15px">
            <img
              src="../../images/student_icon.png"
              width="40"
              height="40"
              alt="folder icon"
            />&thinsp;Quản lý TT Học viên
          </h4>

          <span onclick="openForm()" class="l-btn noselect"
            >Thêm mới thông tin học viên</span
          >
          <!--Courses Info-->
          <table id="MyTable" class="table table-hover">
            <thead>
              <tr>
                <th>Họ và tên</th>
                <th>Số CMND</th>
                <th>Năm sinh</th>
                <th>Số Điện thoại</th>
                <th>Địa chỉ</th>
                <th>Điều khiển</th>
              </tr>
            </thead>

            <tbody id="student-list"></tbody>
          </table>
        </div>
      </div>
    </div>

    <script type="text/javascript">
      function openForm() {
        document.getElementById("popupAdd").style.display = "block";
      }

      function closeForm() {
        document.getElementById("popupAdd").style.display = "none";
      }

      function openFormEdit() {
        document.getElementById("popupEdit").style.display = "block";
      }

      function closeFormEdit() {
        document.getElementById("popupEdit").style.display = "none";
      }
    </script>

    <!--PopupAdd Form-->
    <div
      class="form-popup"
      id="popupAdd"
      style="max-width: 500px; max-height: 550px; overflow: scroll"
    >
      <div class="form-container">
        <h1 style="text-align: center"><b>Thêm TT học viên</b></h1>
        <label for="nameStu"><b>Họ và tên</b></label>
        <input
          id="fullname"
          type="text"
          placeholder="Nhập họ và tên"
          name="nameStu"
        />
        <label for="yearStu"><b>Năm sinh</b></label>
        <input
          id="birth"
          type="text"
          placeholder="Nhập năm sinh"
          name="yearStu"
        />
        <label for="hometownStu"><b>Địa chỉ</b></label>
        <input
          id="address"
          type="text"
          placeholder="Nhập địa chỉ hiện tại"
          name="hometownStu"
        />
        <label for="idnumStu"><b>Số CMND</b></label>
        <input
          id="idnum"
          type="text"
          placeholder="Nhập số CMND"
          name="idnumStu"
        />
        <label for="phoneStu"><b>Số điện thoại</b></label>
        <input
          id="phone"
          type="text"
          placeholder="Nhập số điện thoại"
          name="phoneStu"
        />
        <label for="accountStu"><b>Tên tài khoản</b></label>
        <input
          id="username"
          type="text"
          placeholder="Nhập tên tài khoản đăng nhập"
          name="accountStu"
        />
        <label for="passStu"><b>Mật khẩu</b></label>
        <input
          id="pwd"
          type="password"
          placeholder="Nhập mật khẩu đăng nhập"
          name="passStu"
        />

        <button onclick="handleSignIn()" type="submit" class="btn">Thêm</button>
        <button type="button" class="btn cancel" onclick="closeForm()">
          Đóng
        </button>
      </div>
    </div>

    <!--PopupEdit Form-->
    <div
      class="form-popup"
      id="popupEdit"
      style="max-width: 500px; max-height: 550px; overflow: scroll"
    >
      <form action="" class="form-container">
        <h1 style="text-align: center"><b>Sửa TT học viên</b></h1>
        <label for="nameStu"><b>Họ và tên</b></label>
        <input
          type="text"
          placeholder="Nhập họ và tên"
          name="nameStu"
          value="Tô Vĩnh Khang"
        />
        <label for="yearStu"><b>Năm sinh</b></label>
        <input
          type="text"
          placeholder="Nhập năm sinh"
          name="yearStu"
          value="2000"
        />
        <label for="hometownStu"><b>Địa chỉ</b></label>
        <input
          type="text"
          placeholder="Nhập địa chỉ hiện tại"
          name="hometownStu"
          value="TPHCM"
        />
        <label for="idnumStu"><b>Số CMND</b></label>
        <input
          type="text"
          placeholder="Nhập số CMND"
          name="idnumStu"
          value="7412434321"
        />
        <label for="phoneStu"><b>Số điện thoại</b></label>
        <input
          type="text"
          placeholder="Nhập số điện thoại"
          name="phoneStu"
          value="099239123"
        />
        <label for="accountStu"><b>Tên tài khoản</b></label>
        <input
          type="text"
          placeholder="Nhập tên tài khoản đăng nhập"
          name="accountStu"
          value="kentkhang@gmail.com"
        />
        <label for="passStu"><b>Mật khẩu</b></label>
        <input
          type="password"
          placeholder="Nhập mật khẩu đăng nhập"
          name="passStu"
          value="123456"
        />

        <button type="submit" class="btn">Xác nhận</button>
        <button type="button" class="btn cancel" onclick="closeFormEdit()">
          Đóng
        </button>
      </form>
    </div>

    <!-- Delete Confirm Modal -->
    <div id="myModal" class="modal fade" role="dialog">
      <div class="modal-dialog">
        <!-- Modal content-->
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Xóa</h5>
            <button type="button" class="close" data-dismiss="modal">
              &times;
            </button>
          </div>
          <div class="modal-body">
            <p>Bạn có chắc chắn muốn xóa?</p>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">
              Đóng
            </button>

            <div style="display: inline">
              <input id="deleteitem" type="hidden" name="confirm" />
              <button
                onclick="handleDeleteStudent()"
                type="submit"
                class="btn btn-danger"
              >
                Xác nhận
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!--Footer-->
    <div id="footer">
      <div class="row">
        <!--Map Picture-->
        <img
          src="../../images/map.png"
          width="400"
          heigh="400"
          class="flex map"
        />
        <!--Info Footer-->
        <div class="infoFooter">
          <h>Nhóm phát triển phần mềm LKL Edu</h><br />
          <h>19 Nguyễn Hữu Thọ,Tân Phong,Q7,TPHCM</h><br />
          <h>Hotline: (+84) 0987654321</h><br />
          <h>Email: lklsupport@gmail.com</h><br />
          <h>Copyright © 2020 by lkledu.vn</h><br />
          <!--Some Other Media-->
          <img
            src="../../images/twitterLogo.png"
            width="100"
            class="twitterLogo"
          />
          <img src="../../images/facebookLogo.png" width="60" />
          <img src="../../images/instagramLogo.png" width="55" />
        </div>
      </div>
      <!--Product Footer-->
      <div class="productFooter">
        <p>
          <img
            src="https://kichi.ggg.com.vn/wp-content/uploads/2018/10/bct.png"
          />
        </p>
        <p>Producted by LKL Software Team.</p>
      </div>
    </div>
    <script src="../../js/getStudent.js"></script>
    <script src="../../js/signin.js"></script>
    <script src="../../js/deleteStudent.js"></script>
    <script>
      getStudent();

      function handleSignIn() {
        var name = document.querySelector("#fullname").value || "...";
        var phone = document.querySelector("#phone").value || "...";
        var birth = document.querySelector("#birth").value || "...";
        var address = document.querySelector("#address").value || "...";
        var idnum = document.querySelector("#idnum").value || "...";
        var username = document.querySelector("#username").value || "...";
        var password = document.querySelector("#pwd").value || "123456";

        signIn(name, phone, birth, address, idnum, username, password, "#");
      }

      let selectedStudent;

      function handleConfirmDelete(idx) {
        selectedStudent = studentList[idx];

        $("#myModal").modal({
          backdrop: "static",
          keyboard: false,
        });
      }

      function handleDeleteStudent() {
        activeElement("loading");
        deleteStudent(selectedStudent.id);
      }
    </script>
  </body>
</html>
